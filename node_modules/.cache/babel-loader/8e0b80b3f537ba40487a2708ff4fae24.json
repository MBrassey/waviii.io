{"ast":null,"code":"import _regeneratorRuntime from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/luc1d/Code/Github/waviii.io/src/views/swap.js\";\nimport React, { Component } from \"react\";\nimport Web3 from \"web3\";\nimport Token from \"./abis/waviii2.json\";\nimport EthSwap from \"./abis/WavSwap.json\";\nimport BuySell from \"./BuySell\";\nimport { WaveTopBottomLoading } from \"react-loadingg\";\nimport FadeIn from \"react-fade-in\";\nimport tokenLogo from \"../assets/img/token-logo.png\";\nimport ethLogo from \"../assets/img/eth-logo.png\";\nimport swapLogo from \"../assets/img/swap_logo.gif\";\nimport CountUp from \"react-countup\";\nimport { Card, CardHeader, CardBody, Row, Col } from \"reactstrap\";\n\nvar Swap = /*#__PURE__*/function (_Component) {\n  _inherits(Swap, _Component);\n\n  var _super = _createSuper(Swap);\n\n  _createClass(Swap, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.loadWeb3();\n\n              case 2:\n                _context.next = 4;\n                return this.loadBlockchainData();\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"loadBlockchainData\",\n    value: function () {\n      var _loadBlockchainData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var web3, accounts, ethBalance, networkId, tokenData, token, tokenBalance, ethSwapData, ethSwap;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.state.loading) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\", false);\n\n              case 4:\n                web3 = window.web3;\n                _context2.next = 7;\n                return web3.eth.getAccounts();\n\n              case 7:\n                accounts = _context2.sent;\n                this.setState({\n                  account: accounts[0]\n                });\n                _context2.next = 11;\n                return web3.eth.getBalance(this.state.account);\n\n              case 11:\n                ethBalance = _context2.sent;\n                this.setState({\n                  ethBalance\n                }); // Load Token\n\n                _context2.next = 15;\n                return web3.eth.net.getId();\n\n              case 15:\n                networkId = _context2.sent;\n                tokenData = Token.networks[networkId];\n\n                if (!tokenData) {\n                  _context2.next = 26;\n                  break;\n                }\n\n                token = new web3.eth.Contract(Token.abi, tokenData.address);\n                this.setState({\n                  token\n                });\n                _context2.next = 22;\n                return token.methods.balanceOf(this.state.account).call();\n\n              case 22:\n                tokenBalance = _context2.sent;\n                this.setState({\n                  tokenBalance: tokenBalance.toString()\n                });\n                _context2.next = 28;\n                break;\n\n              case 26:\n                window.alert(\"Token contract not deployed to detected network.\");\n                this.setState({\n                  loading: true\n                });\n\n              case 28:\n                // Load EthSwap\n                ethSwapData = EthSwap.networks[networkId];\n\n                if (ethSwapData) {\n                  ethSwap = new web3.eth.Contract(EthSwap.abi, ethSwapData.address);\n                  this.setState({\n                    ethSwap\n                  });\n                } else {\n                  window.alert(\"EthSwap contract not deployed to detected network.\");\n                  this.setState({\n                    loading: true\n                  });\n                }\n\n                this.setState({\n                  loading: false\n                });\n\n              case 31:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function loadBlockchainData() {\n        return _loadBlockchainData.apply(this, arguments);\n      }\n\n      return loadBlockchainData;\n    }()\n  }, {\n    key: \"loadWeb3\",\n    value: function () {\n      var _loadWeb = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!window.ethereum) {\n                  _context3.next = 6;\n                  break;\n                }\n\n                window.web3 = new Web3(window.ethereum);\n                _context3.next = 4;\n                return window.ethereum.enable();\n\n              case 4:\n                _context3.next = 7;\n                break;\n\n              case 6:\n                if (window.web3) {\n                  window.web3 = new Web3(window.web3.currentProvider);\n                } else {\n                  // window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\n                  this.setState({\n                    loading: true\n                  });\n                  this.setState({\n                    noEth: true\n                  });\n                }\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function loadWeb3() {\n        return _loadWeb.apply(this, arguments);\n      }\n\n      return loadWeb3;\n    }()\n  }]);\n\n  function Swap(props) {\n    var _this;\n\n    _classCallCheck(this, Swap);\n\n    _this = _super.call(this, props);\n\n    _this.buyTokens = function (etherAmount) {\n      _this.state.ethSwap.methods.buyTokens().send({\n        value: etherAmount,\n        from: _this.state.account\n      }).on(\"transactionHash\", function (hash) {\n        _this.setState({\n          loading: true\n        });\n      }).on(\"confirmation\", function (reciept) {\n        _this.setState({\n          loading: false\n        });\n\n        window.location.reload();\n      });\n    };\n\n    _this.sellTokens = function (tokenAmount) {\n      _this.state.token.methods.approve(_this.state.ethSwap.address, tokenAmount).send({\n        from: _this.state.account\n      }).on(\"transactionHash\", function (hash) {\n        _this.state.ethSwap.methods.sellTokens(tokenAmount).send({\n          from: _this.state.account\n        }).on(\"transactionHash\", function (hash) {\n          _this.setState({\n            loading: true\n          });\n        }).on(\"confirmation\", function (reciept) {\n          _this.setState({\n            loading: false\n          });\n\n          window.location.reload();\n        });\n      });\n    };\n\n    _this.state = {\n      account: \"\",\n      token: {},\n      ethSwap: {},\n      ethBalance: \"0\",\n      tokenBalance: \"0\",\n      loading: undefined\n    };\n    return _this;\n  }\n\n  _createClass(Swap, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var content;\n\n      if (this.state.loading) {\n        if (this.state.noEth) {\n          content = /*#__PURE__*/React.createElement(FadeIn, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(FadeIn, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(CardBody, {\n            className: \"waviii-2\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(FadeIn, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            id: \"content\",\n            className: \"mt-3\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"d-flex justify-content-between mb-3\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            className: \"btn btn-light waviii\",\n            disabled: true,\n            onClick: function onClick(event) {\n              _this2.setState({\n                currentForm: \"buy\"\n              });\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 23\n            }\n          }, \"Buy\"), /*#__PURE__*/React.createElement(\"img\", {\n            src: swapLogo,\n            className: \"swapLogo\",\n            alt: \"waviii Swap Logo\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 23\n            }\n          }), /*#__PURE__*/React.createElement(\"button\", {\n            className: \"btn btn-light waviii\",\n            disabled: true,\n            onClick: function onClick(event) {\n              _this2.setState({\n                currentForm: \"sell\"\n              });\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 23\n            }\n          }, \"Sell\")), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 21\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"card mb-4\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"card-body\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(FadeIn, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"form\", {\n            className: \"mb-3\",\n            onSubmit: function onSubmit(event) {\n              event.preventDefault();\n              var etherAmount;\n              etherAmount = _this2.input.value.toString();\n              etherAmount = window.web3.utils.toWei(etherAmount, \"Ether\");\n\n              _this2.props.buyTokens(etherAmount);\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 27\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"label\", {\n            className: \"float-left\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 33\n            }\n          }, \"Input\")), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"float-right text-muted\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 31\n            }\n          }, \"Balance:\", \" \", /*#__PURE__*/React.createElement(CountUp, {\n            duration: 2.7,\n            start: -10,\n            separator: \"\",\n            decimals: 2,\n            decimal: \".\",\n            end: 0,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 33\n            }\n          }))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"input-group mb-4\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            type: \"text\",\n            onChange: function onChange(event) {\n              var etherAmount = _this2.input.value.toString();\n\n              _this2.setState({\n                output: etherAmount * 100\n              });\n            },\n            ref: function ref(input) {\n              _this2.input = input;\n            },\n            className: \"form-control form-control-lg\",\n            placeholder: \"0\",\n            disabled: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 31\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"input-group-append\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"input-group-text\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"strong\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 35\n            }\n          }, \"\\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"img\", {\n            src: ethLogo,\n            height: \"29\",\n            alt: \"\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 35\n            }\n          }), /*#__PURE__*/React.createElement(\"strong\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 35\n            }\n          }, \"\\xA0\\xA0 ETH \\xA0\")))), /*#__PURE__*/React.createElement(\"div\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"label\", {\n            className: \"float-left\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(\"b\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 33\n            }\n          }, \"Output\")), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"float-right text-muted\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 31\n            }\n          }, \"Balance:\", \" \", /*#__PURE__*/React.createElement(CountUp, {\n            duration: 2.7,\n            start: -10,\n            separator: \"\",\n            decimals: 2,\n            decimal: \".\",\n            end: 0,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 33\n            }\n          }))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"input-group mb-2\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            type: \"text\",\n            className: \"form-control form-control-lg\",\n            placeholder: \"0\",\n            value: this.state.output,\n            disabled: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 31\n            }\n          }), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"input-group-append\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"input-group-text waviii\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"strong\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 35\n            }\n          }, \"\\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"img\", {\n            src: tokenLogo,\n            height: \"29\",\n            alt: \"\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 35\n            }\n          }), /*#__PURE__*/React.createElement(\"strong\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 35\n            }\n          }, \"\\xA0 waviii\")))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"mb-5\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 29\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"float-left text-muted\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 31\n            }\n          }, \"Exchange Rate\"), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"float-right text-muted waviii responsive3\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 31\n            }\n          }, \"1 ETH = 100 waviii\")), /*#__PURE__*/React.createElement(\"button\", {\n            type: \"submit\",\n            disabled: true,\n            className: \"btn btn-primary btn-block btn-lg waviii\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }\n          }, \"locked\"))))), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 21\n            }\n          }), /*#__PURE__*/React.createElement(FadeIn, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            href: \"https://metamask.io/download.html\",\n            className: \"noEth\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"center\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 23\n            }\n          }, \"Blockchain browser not detected! Install MetaMask to use waviii.\"))))))));\n        } else {\n          content = /*#__PURE__*/React.createElement(\"p\", {\n            id: \"loader\",\n            className: \"text-center\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(WaveTopBottomLoading, {\n            color: \"#2c91c7\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 13\n            }\n          }));\n        }\n      } else {\n        content = /*#__PURE__*/React.createElement(BuySell, {\n          ethBalance: this.state.ethBalance,\n          tokenBalance: this.state.tokenBalance,\n          buyTokens: this.buyTokens,\n          sellTokens: this.sellTokens,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 9\n          }\n        });\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FadeIn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"responsive2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"waviii3 responsive2\",\n        href: \"https://etherscan.io/address/\".concat(this.state.account),\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 23\n        }\n      }, this.state.account)))), /*#__PURE__*/React.createElement(CardBody, {\n        className: \"all-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content mr-auto ml-auto\",\n        style: {\n          width: \"90%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 19\n        }\n      }, content)))))));\n    }\n  }]);\n\n  return Swap;\n}(Component);\n\nexport default Swap;","map":{"version":3,"sources":["/home/luc1d/Code/Github/waviii.io/src/views/swap.js"],"names":["React","Component","Web3","Token","EthSwap","BuySell","WaveTopBottomLoading","FadeIn","tokenLogo","ethLogo","swapLogo","CountUp","Card","CardHeader","CardBody","Row","Col","Swap","loadWeb3","loadBlockchainData","state","loading","web3","window","eth","getAccounts","accounts","setState","account","getBalance","ethBalance","net","getId","networkId","tokenData","networks","token","Contract","abi","address","methods","balanceOf","call","tokenBalance","toString","alert","ethSwapData","ethSwap","ethereum","enable","currentProvider","noEth","props","buyTokens","etherAmount","send","value","from","on","hash","reciept","location","reload","sellTokens","tokenAmount","approve","undefined","content","event","currentForm","preventDefault","input","utils","toWei","output","width"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Web3 from \"web3\";\nimport Token from \"./abis/waviii2.json\";\nimport EthSwap from \"./abis/WavSwap.json\";\nimport BuySell from \"./BuySell\";\nimport { WaveTopBottomLoading } from \"react-loadingg\";\nimport FadeIn from \"react-fade-in\";\nimport tokenLogo from \"../assets/img/token-logo.png\";\nimport ethLogo from \"../assets/img/eth-logo.png\";\nimport swapLogo from \"../assets/img/swap_logo.gif\";\nimport CountUp from \"react-countup\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  Row,\n  Col,\n} from \"reactstrap\";\n\nclass Swap extends Component {\n  async componentWillMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n  }\n\n  async loadBlockchainData() {\n    if (this.state.loading) {\n      return false;\n    } else {\n      const web3 = window.web3;\n      const accounts = await web3.eth.getAccounts();\n      this.setState({ account: accounts[0] });\n      const ethBalance = await web3.eth.getBalance(this.state.account);\n      this.setState({ ethBalance });\n\n      // Load Token\n      const networkId = await web3.eth.net.getId();\n      const tokenData = Token.networks[networkId];\n      if (tokenData) {\n        const token = new web3.eth.Contract(Token.abi, tokenData.address);\n        this.setState({ token });\n        let tokenBalance = await token.methods\n          .balanceOf(this.state.account)\n          .call();\n        this.setState({ tokenBalance: tokenBalance.toString() });\n      } else {\n        window.alert(\"Token contract not deployed to detected network.\");\n        this.setState({ loading: true });\n      }\n\n      // Load EthSwap\n      const ethSwapData = EthSwap.networks[networkId];\n      if (ethSwapData) {\n        const ethSwap = new web3.eth.Contract(EthSwap.abi, ethSwapData.address);\n        this.setState({ ethSwap });\n      } else {\n        window.alert(\"EthSwap contract not deployed to detected network.\");\n        this.setState({ loading: true });\n      }\n\n      this.setState({ loading: false });\n    }\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      // window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!')\n      this.setState({ loading: true });\n      this.setState({ noEth: true });\n    }\n  }\n\n  buyTokens = (etherAmount) => {\n    this.state.ethSwap.methods\n      .buyTokens()\n      .send({ value: etherAmount, from: this.state.account })\n      .on(\"transactionHash\", (hash) => {\n        this.setState({ loading: true });\n      })\n      .on(\"confirmation\", (reciept) => {\n        this.setState({ loading: false });\n        window.location.reload();\n      });\n  };\n\n  sellTokens = (tokenAmount) => {\n    this.state.token.methods\n      .approve(this.state.ethSwap.address, tokenAmount)\n      .send({ from: this.state.account })\n      .on(\"transactionHash\", (hash) => {\n        this.state.ethSwap.methods\n          .sellTokens(tokenAmount)\n          .send({ from: this.state.account })\n          .on(\"transactionHash\", (hash) => {\n            this.setState({ loading: true });\n          })\n          .on(\"confirmation\", (reciept) => {\n            this.setState({ loading: false });\n            window.location.reload();\n          });\n      });\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: \"\",\n      token: {},\n      ethSwap: {},\n      ethBalance: \"0\",\n      tokenBalance: \"0\",\n      loading: undefined,\n    };\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      if (this.state.noEth) {\n        content = (\n          <FadeIn>\n            <FadeIn>\n              <CardBody className=\"waviii-2\">\n                <FadeIn>\n                  <div id=\"content\" className=\"mt-3\">\n                    <div className=\"d-flex justify-content-between mb-3\">\n                      <button\n                        className=\"btn btn-light waviii\"\n                        disabled\n                        onClick={(event) => {\n                          this.setState({ currentForm: \"buy\" });\n                        }}\n                      >\n                        Buy\n                      </button>\n                      <img src={swapLogo} className=\"swapLogo\" alt=\"waviii Swap Logo\" />\n                      <button\n                        className=\"btn btn-light waviii\"\n                        disabled\n                        onClick={(event) => {\n                          this.setState({ currentForm: \"sell\" });\n                        }}\n                      >\n                        Sell\n                      </button>\n                    </div>\n                    <br />\n\n                    <div className=\"card mb-4\">\n                      <div className=\"card-body\">\n                        <FadeIn>\n                          <form\n                            className=\"mb-3\"\n                            onSubmit={(event) => {\n                              event.preventDefault();\n                              let etherAmount;\n                              etherAmount = this.input.value.toString();\n                              etherAmount = window.web3.utils.toWei(\n                                etherAmount,\n                                \"Ether\"\n                              );\n                              this.props.buyTokens(etherAmount);\n                            }}\n                          >\n                            <div>\n                              <label className=\"float-left\">\n                                <b>Input</b>\n                              </label>\n                              <span className=\"float-right text-muted\">\n                                Balance:{\" \"}\n                                <CountUp\n                                  duration={2.7}\n                                  start={-10}\n                                  separator=\"\"\n                                  decimals={2}\n                                  decimal=\".\"\n                                  end={0}\n                                />\n                              </span>\n                            </div>\n                            <div className=\"input-group mb-4\">\n                              <input\n                                type=\"text\"\n                                onChange={(event) => {\n                                  const etherAmount = this.input.value.toString();\n                                  this.setState({\n                                    output: etherAmount * 100,\n                                  });\n                                }}\n                                ref={(input) => {\n                                  this.input = input;\n                                }}\n                                className=\"form-control form-control-lg\"\n                                placeholder=\"0\"\n                                disabled\n                              />\n                              <div className=\"input-group-append\">\n                                <div className=\"input-group-text\">\n                                  <strong>&nbsp;&nbsp;</strong>\n                                  <img src={ethLogo} height=\"29\" alt=\"\" />\n                                  <strong>&nbsp;&nbsp; ETH &nbsp;</strong>\n                                </div>\n                              </div>\n                            </div>\n                            <div>\n                              <label className=\"float-left\">\n                                <b>Output</b>\n                              </label>\n                              <span className=\"float-right text-muted\">\n                                Balance:{\" \"}\n                                <CountUp\n                                  duration={2.7}\n                                  start={-10}\n                                  separator=\"\"\n                                  decimals={2}\n                                  decimal=\".\"\n                                  end={0}\n                                />\n                              </span>\n                            </div>\n                            <div className=\"input-group mb-2\">\n                              <input\n                                type=\"text\"\n                                className=\"form-control form-control-lg\"\n                                placeholder=\"0\"\n                                value={this.state.output}\n                                disabled\n                              />\n                              <div className=\"input-group-append\">\n                                <div className=\"input-group-text waviii\">\n                                  <strong>&nbsp;&nbsp;</strong>\n                                  <img src={tokenLogo} height=\"29\" alt=\"\" />\n                                  <strong>&nbsp; waviii</strong>\n                                </div>\n                              </div>\n                            </div>\n                            <div className=\"mb-5\">\n                              <span className=\"float-left text-muted\">\n                                Exchange Rate\n                              </span>\n                              <span className=\"float-right text-muted waviii responsive3\">\n                                1 ETH = 100 waviii\n                              </span>\n                            </div>\n                            <button\n                              type=\"submit\"\n                              disabled\n                              className=\"btn btn-primary btn-block btn-lg waviii\"\n                            >\n                              locked\n                            </button>\n                          </form>\n                        </FadeIn>\n                      </div>\n                    </div>\n                    <br />\n                  <FadeIn>\n                    <a\n                      href=\"https://metamask.io/download.html\"\n                      className=\"noEth\"\n                    >\n                      <center>Blockchain browser not detected! Install MetaMask to use\n                      waviii.</center>\n                    </a>\n                  </FadeIn>\n                  </div>\n                </FadeIn>\n              </CardBody>\n            </FadeIn>\n          </FadeIn>\n        );\n      } else {\n        content = (\n          <p id=\"loader\" className=\"text-center\">\n            <WaveTopBottomLoading color={\"#2c91c7\"} />\n          </p>\n        );\n      }\n    } else {\n      content = (\n        <BuySell\n          ethBalance={this.state.ethBalance}\n          tokenBalance={this.state.tokenBalance}\n          buyTokens={this.buyTokens}\n          sellTokens={this.sellTokens}\n        />\n      );\n    }\n\n    return (\n      <>\n        <div className=\"content\">\n          <Row>\n            <Col md=\"12\">\n              <Card>\n                <FadeIn>\n                  <CardHeader className=\"responsive2\">\n                    <a\n                      className=\"waviii3 responsive2\"\n                      href={`https://etherscan.io/address/${this.state.account}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      <span>{this.state.account}</span>\n                    </a>\n                  </CardHeader>\n                </FadeIn>\n                <CardBody className=\"all-icons\">\n                  <div\n                    className=\"content mr-auto ml-auto\"\n                    style={{ width: \"90%\" }}\n                  >\n                    {content}\n                  </div>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Swap;\n"]},"metadata":{},"sourceType":"module"}