{"ast":null,"code":"import _regeneratorRuntime from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _assertThisInitialized from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/luc1d/Code/Github/waviii.io/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/luc1d/Code/Github/waviii.io/src/views/wallet.js\";\nimport React from \"react\";\nimport Web3 from \"web3\";\nimport waviiiLogo from \"../assets/img/i3.png\";\nimport waviii from \"./abis/waviii2.json\";\nimport CountUp from \"react-countup\";\nimport { WaveTopBottomLoading } from \"react-loadingg\";\nimport FadeIn from \"react-fade-in\"; // reactstrap components\n\nimport { Card, CardHeader, CardBody, Row, Col } from \"reactstrap\";\n\nvar Wallet = /*#__PURE__*/function (_React$Component) {\n  _inherits(Wallet, _React$Component);\n\n  var _super = _createSuper(Wallet);\n\n  _createClass(Wallet, [{\n    key: \"componentWillMount\",\n    value: function () {\n      var _componentWillMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.loadWeb3();\n\n              case 2:\n                _context.next = 4;\n                return this.loadBlockchainData();\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentWillMount() {\n        return _componentWillMount.apply(this, arguments);\n      }\n\n      return componentWillMount;\n    }()\n  }, {\n    key: \"loadWeb3\",\n    value: function () {\n      var _loadWeb = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!window.ethereum) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                window.web3 = new Web3(window.ethereum);\n                _context2.next = 4;\n                return window.ethereum.enable();\n\n              case 4:\n                _context2.next = 7;\n                break;\n\n              case 6:\n                if (window.web3) {\n                  window.web3 = new Web3(window.web3.currentProvider);\n                } else {\n                  // window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!');\n                  this.setState({\n                    loading: true\n                  });\n                  this.setState({\n                    noEth: true\n                  });\n                }\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function loadWeb3() {\n        return _loadWeb.apply(this, arguments);\n      }\n\n      return loadWeb3;\n    }()\n  }, {\n    key: \"loadBlockchainData\",\n    value: function () {\n      var _loadBlockchainData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var web3, accounts, TokenAddress, waviiiToken, balance, transactions;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.state.loading) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\", false);\n\n              case 4:\n                web3 = window.web3;\n                _context3.next = 7;\n                return web3.eth.getAccounts();\n\n              case 7:\n                accounts = _context3.sent;\n                this.setState({\n                  account: accounts[0]\n                });\n                TokenAddress = \"0x9cc6754d16b98a32ec9137df6453ba84597b9965\"; // mainnet waviii Token Contract Address\n\n                waviiiToken = new web3.eth.Contract(waviii.abi, TokenAddress);\n                this.setState({\n                  waviiiToken: waviiiToken\n                });\n                _context3.next = 14;\n                return waviiiToken.methods.balanceOf(this.state.account).call();\n\n              case 14:\n                balance = _context3.sent;\n                this.setState({\n                  balance: web3.utils.fromWei(balance.toString(), \"Ether\")\n                });\n                _context3.next = 18;\n                return Promise.all([waviiiToken.getPastEvents(\"Transfer\", {\n                  fromBlock: 0,\n                  toBlock: \"latest\",\n                  filter: {\n                    from: this.state.account\n                  }\n                }), waviiiToken.getPastEvents(\"Transfer\", {\n                  fromBlock: 0,\n                  toBlock: \"latest\",\n                  filter: {\n                    to: this.state.account\n                  }\n                })]);\n\n              case 18:\n                transactions = _context3.sent.flat();\n                this.setState({\n                  transactions: transactions\n                }); // console.log(transactions);\n\n              case 20:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function loadBlockchainData() {\n        return _loadBlockchainData.apply(this, arguments);\n      }\n\n      return loadBlockchainData;\n    }()\n  }, {\n    key: \"transfer\",\n    value: function transfer(recipient, amount) {\n      var _this2 = this;\n\n      this.state.waviiiToken.methods.transfer(recipient, amount).send({\n        from: this.state.account\n      }).on(\"transactionHash\", function (hash) {\n        _this2.setState({\n          loading: true\n        });\n      }).on(\"confirmation\", function (reciept) {\n        _this2.setState({\n          loading: false\n        });\n\n        window.location.reload();\n      });\n    }\n  }]);\n\n  function Wallet(props) {\n    var _this;\n\n    _classCallCheck(this, Wallet);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      account: \"\",\n      waviiiToken: null,\n      balance: 0,\n      transactions: [],\n      loading: undefined\n    };\n    _this.transfer = _this.transfer.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Wallet, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var content;\n\n      if (this.state.loading) {\n        if (this.state.noEth) {\n          content = /*#__PURE__*/React.createElement(\"div\", {\n            className: \"mt-3\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"row\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"main\", {\n            role: \"main\",\n            className: \"col-lg-12 d-flex text-center\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"content mr-auto ml-auto\",\n            style: {\n              width: \"90%\"\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }\n          }, /*#__PURE__*/React.createElement(FadeIn, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"img\", {\n            src: waviiiLogo,\n            width: \"150\",\n            alt: \"waviii Logo\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 21\n            }\n          })), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 19\n            }\n          }), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 19\n            }\n          }), /*#__PURE__*/React.createElement(FadeIn, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"h1\", {\n            className: \"waviii\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"strong\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(CountUp, {\n            duration: 1.7,\n            start: -10,\n            separator: \"\",\n            decimals: 2,\n            decimal: \".\",\n            end: this.state.balance,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 25\n            }\n          }), \" \", \"waviii\"))), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"card mb-4\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"card-body\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(\"form\", {\n            className: \"mb-3\",\n            onSubmit: function onSubmit(event) {\n              event.preventDefault();\n              var recipient = _this3.recipient.value;\n              var amount = window.web3.utils.toWei(_this3.amount.value, \"Ether\");\n\n              _this3.transfer(recipient, amount);\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"form-group\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            id: \"recipient\",\n            type: \"text\",\n            ref: function ref(input) {\n              _this3.recipient = input;\n            },\n            className: \"form-control form-control-lg\",\n            placeholder: \"Recipient Address\",\n            disabled: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 27\n            }\n          })), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"form-group\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"input\", {\n            id: \"amount\",\n            type: \"text\",\n            ref: function ref(input) {\n              _this3.amount = input;\n            },\n            className: \"form-control form-control-lg\",\n            placeholder: \"Amount\",\n            disabled: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 27\n            }\n          })), /*#__PURE__*/React.createElement(\"button\", {\n            type: \"text\",\n            className: \"btn btn-primary btn-block btn-lg waviii\",\n            disabled: true,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"strong\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 27\n            }\n          }, \"locked\"))), /*#__PURE__*/React.createElement(\"table\", {\n            className: \"table\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(\"thead\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(\"tr\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 27\n            }\n          }, /*#__PURE__*/React.createElement(\"th\", {\n            scope: \"col\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 29\n            }\n          }, \"Recipient\"), /*#__PURE__*/React.createElement(\"th\", {\n            scope: \"col\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }\n          }, \"value\")))))), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 25\n            }\n          }), /*#__PURE__*/React.createElement(FadeIn, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 19\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            href: \"https://metamask.io/download.html\",\n            className: \"noEth\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 21\n            }\n          }, \"Blockchain browser not detected! Install MetaMask to use waviii.\"), /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 25\n            }\n          }))))));\n        } else {\n          content = /*#__PURE__*/React.createElement(\"p\", {\n            id: \"loader\",\n            className: \"text-center\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(WaveTopBottomLoading, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 13\n            }\n          }));\n        }\n      } else {\n        content = /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mt-3\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"main\", {\n          role: \"main\",\n          className: \"col-lg-12 d-flex text-center\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"content mr-auto ml-auto\",\n          style: {\n            width: \"90%\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(FadeIn, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: waviiiLogo,\n          width: \"150\",\n          alt: \"waviii Logo\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 17\n          }\n        }), /*#__PURE__*/React.createElement(\"br\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 17\n          }\n        }), /*#__PURE__*/React.createElement(FadeIn, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"h1\", {\n          className: \"waviii\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(CountUp, {\n          duration: 1.7,\n          start: 0,\n          separator: \"\",\n          decimals: 2,\n          decimal: \".\",\n          end: this.state.balance,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 23\n          }\n        }), \" \", \"waviii\"))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card mb-4\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"card-body\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"form\", {\n          className: \"mb-3\",\n          onSubmit: function onSubmit(event) {\n            event.preventDefault();\n            var recipient = _this3.recipient.value;\n            var amount = window.web3.utils.toWei(_this3.amount.value, \"Ether\");\n\n            _this3.transfer(recipient, amount);\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          id: \"recipient\",\n          type: \"text\",\n          ref: function ref(input) {\n            _this3.recipient = input;\n          },\n          className: \"form-control form-control-lg\",\n          placeholder: \"Recipient Address\",\n          required: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 25\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"form-group\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"input\", {\n          id: \"amount\",\n          type: \"text\",\n          ref: function ref(input) {\n            _this3.amount = input;\n          },\n          className: \"form-control form-control-lg\",\n          placeholder: \"Amount\",\n          required: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }\n        })), /*#__PURE__*/React.createElement(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-block btn-lg waviii\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 25\n          }\n        }, \"Send\"))), /*#__PURE__*/React.createElement(\"table\", {\n          className: \"table hide\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"thead\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 27\n          }\n        }, \"Recipient\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 27\n          }\n        }, \"value\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 23\n          }\n        }, this.state.transactions.sort(function (a, b) {\n          return a.blockNumber < b.blockNumber;\n        }).map(function (tx, key) {\n          return /*#__PURE__*/React.createElement(\"tr\", {\n            key: key,\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 286,\n              columnNumber: 31\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 33\n            }\n          }, /*#__PURE__*/React.createElement(\"a\", {\n            className: \"title responsive\",\n            href: \"https://etherscan.io/address/\".concat(tx.hash),\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"waviii text-muted\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 37\n            }\n          }, tx.returnValues.to))), tx.returnValues.to !== _this3.state.account && /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"waviii responsive\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 37\n            }\n          }, \"-\", /*#__PURE__*/React.createElement(CountUp, {\n            duration: 2.7,\n            start: 0,\n            separator: \"\",\n            decimals: 2,\n            decimal: \".\",\n            end: window.web3.utils.fromWei(tx.returnValues.value.toString(), \"Ether\"),\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 39\n            }\n          }))), tx.returnValues.to === _this3.state.account && /*#__PURE__*/React.createElement(\"td\", {\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 35\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"waviii2 responsive\",\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 37\n            }\n          }, \"+\", /*#__PURE__*/React.createElement(CountUp, {\n            duration: 2.7,\n            start: 0,\n            separator: \"\",\n            decimals: 2,\n            decimal: \".\",\n            end: window.web3.utils.fromWei(tx.returnValues.value.toString(), \"Ether\"),\n            __self: _this3,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 39\n            }\n          }))));\n        })))))))));\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(FadeIn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FadeIn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"responsive2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"waviii3 responsive2\",\n        href: \"https://etherscan.io/address/\".concat(this.state.account),\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 25\n        }\n      }, this.state.account)))), /*#__PURE__*/React.createElement(CardBody, {\n        className: \"all-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FadeIn, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 23\n        }\n      }, content)))))))));\n    }\n  }]);\n\n  return Wallet;\n}(React.Component);\n\nexport default Wallet;","map":{"version":3,"sources":["/home/luc1d/Code/Github/waviii.io/src/views/wallet.js"],"names":["React","Web3","waviiiLogo","waviii","CountUp","WaveTopBottomLoading","FadeIn","Card","CardHeader","CardBody","Row","Col","Wallet","loadWeb3","loadBlockchainData","window","ethereum","web3","enable","currentProvider","setState","loading","noEth","state","eth","getAccounts","accounts","account","TokenAddress","waviiiToken","Contract","abi","methods","balanceOf","call","balance","utils","fromWei","toString","Promise","all","getPastEvents","fromBlock","toBlock","filter","from","to","transactions","flat","recipient","amount","transfer","send","on","hash","reciept","location","reload","props","undefined","bind","content","width","event","preventDefault","value","toWei","input","sort","a","b","blockNumber","map","tx","key","returnValues","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Web3 from \"web3\";\nimport waviiiLogo from \"../assets/img/i3.png\";\nimport waviii from \"./abis/waviii2.json\";\nimport CountUp from \"react-countup\";\nimport { WaveTopBottomLoading } from \"react-loadingg\";\nimport FadeIn from \"react-fade-in\";\n\n// reactstrap components\nimport { Card, CardHeader, CardBody, Row, Col } from \"reactstrap\";\n\nclass Wallet extends React.Component {\n  async componentWillMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      // window.alert('Non-Ethereum browser detected. You should consider trying MetaMask!');\n      this.setState({ loading: true });\n      this.setState({ noEth: true });\n    }\n  }\n\n  async loadBlockchainData() {\n    if (this.state.loading) {\n      return false;\n    } else {\n      const web3 = window.web3;\n      const accounts = await web3.eth.getAccounts();\n      this.setState({ account: accounts[0] });\n      const TokenAddress = \"0x9cc6754d16b98a32ec9137df6453ba84597b9965\"; // mainnet waviii Token Contract Address\n      const waviiiToken = new web3.eth.Contract(waviii.abi, TokenAddress);\n      this.setState({ waviiiToken: waviiiToken });\n      const balance = await waviiiToken.methods\n        .balanceOf(this.state.account)\n        .call();\n      this.setState({\n        balance: web3.utils.fromWei(balance.toString(), \"Ether\"),\n      });\n      const transactions = (\n        await Promise.all([\n          waviiiToken.getPastEvents(\"Transfer\", {\n            fromBlock: 0,\n            toBlock: \"latest\",\n            filter: { from: this.state.account },\n          }),\n          waviiiToken.getPastEvents(\"Transfer\", {\n            fromBlock: 0,\n            toBlock: \"latest\",\n            filter: { to: this.state.account },\n          }),\n        ])\n      ).flat();\n      this.setState({ transactions: transactions });\n      // console.log(transactions);\n    }\n  }\n\n  transfer(recipient, amount) {\n    this.state.waviiiToken.methods\n      .transfer(recipient, amount)\n      .send({ from: this.state.account })\n      .on(\"transactionHash\", (hash) => {\n        this.setState({ loading: true });\n      })\n      .on(\"confirmation\", (reciept) => {\n        this.setState({ loading: false });\n        window.location.reload();\n      });\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: \"\",\n      waviiiToken: null,\n      balance: 0,\n      transactions: [],\n      loading: undefined,\n    };\n\n    this.transfer = this.transfer.bind(this);\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      if (this.state.noEth) {\n        content = (\n          <div className=\"mt-3\">\n            <div className=\"row\">\n              <main role=\"main\" className=\"col-lg-12 d-flex text-center\">\n                <div\n                  className=\"content mr-auto ml-auto\"\n                  style={{ width: \"90%\" }}\n                >\n                  <FadeIn>\n                    <img src={waviiiLogo} width=\"150\" alt=\"waviii Logo\" />\n                  </FadeIn>\n                  <br />\n                  <br />\n                  <FadeIn>\n                    <h1 className=\"waviii\">\n                      <strong>\n                        <CountUp\n                          duration={1.7}\n                          start={-10}\n                          separator=\"\"\n                          decimals={2}\n                          decimal=\".\"\n                          end={this.state.balance}\n                        />{\" \"}\n                        waviii\n                      </strong>\n                    </h1>\n                  </FadeIn>\n                  <div className=\"card mb-4\">\n                    <div className=\"card-body\">\n                      <form\n                        className=\"mb-3\"\n                        onSubmit={(event) => {\n                          event.preventDefault();\n                          const recipient = this.recipient.value;\n                          const amount = window.web3.utils.toWei(\n                            this.amount.value,\n                            \"Ether\"\n                          );\n                          this.transfer(recipient, amount);\n                        }}\n                      >\n                        <div className=\"form-group\">\n                          <input\n                            id=\"recipient\"\n                            type=\"text\"\n                            ref={(input) => {\n                              this.recipient = input;\n                            }}\n                            className=\"form-control form-control-lg\"\n                            placeholder=\"Recipient Address\"\n                            disabled\n                          />\n                        </div>\n                        <div className=\"form-group\">\n                          <input\n                            id=\"amount\"\n                            type=\"text\"\n                            ref={(input) => {\n                              this.amount = input;\n                            }}\n                            className=\"form-control form-control-lg\"\n                            placeholder=\"Amount\"\n                            disabled\n                          />\n                        </div>\n                        <button\n                          type=\"text\"\n                          className=\"btn btn-primary btn-block btn-lg waviii\"\n                          disabled\n                        >\n                          <strong>locked</strong>\n                        </button>\n                      </form>\n\n                      <table className=\"table\">\n                        <thead>\n                          <tr>\n                            <th scope=\"col\">Recipient</th>\n                            <th scope=\"col\">value</th>\n                          </tr>\n                        </thead>\n                      </table>\n                    </div>\n                  </div><br />\n                  <FadeIn>\n                    <a\n                      href=\"https://metamask.io/download.html\"\n                      className=\"noEth\"\n                    >\n                      Blockchain browser not detected! Install MetaMask to use\n                      waviii.\n                    </a><br />\n                  </FadeIn>\n                </div>\n              </main>\n            </div>\n          </div>\n        );\n      } else {\n        content = (\n          <p id=\"loader\" className=\"text-center\">\n            <WaveTopBottomLoading />\n          </p>\n        );\n      }\n    } else {\n      content = (\n        <div className=\"mt-3\">\n          <div className=\"row\">\n            <main role=\"main\" className=\"col-lg-12 d-flex text-center\">\n              <div className=\"content mr-auto ml-auto\" style={{ width: \"90%\" }}>\n                <FadeIn>\n                  <img src={waviiiLogo} width=\"150\" alt=\"waviii Logo\" />\n                </FadeIn>\n                <br />\n                <br />\n                <FadeIn>\n                  <h1 className=\"waviii\">\n                    <strong>\n                      <CountUp\n                        duration={1.7}\n                        start={0}\n                        separator=\"\"\n                        decimals={2}\n                        decimal=\".\"\n                        end={this.state.balance}\n                      />{\" \"}\n                      waviii\n                    </strong>\n                  </h1>\n                </FadeIn>\n                <div className=\"card mb-4\">\n                  <div className=\"card-body\">\n                    <form\n                      className=\"mb-3\"\n                      onSubmit={(event) => {\n                        event.preventDefault();\n                        const recipient = this.recipient.value;\n                        const amount = window.web3.utils.toWei(\n                          this.amount.value,\n                          \"Ether\"\n                        );\n                        this.transfer(recipient, amount);\n                      }}\n                    >\n                      <div className=\"form-group\">\n                        <input\n                          id=\"recipient\"\n                          type=\"text\"\n                          ref={(input) => {\n                            this.recipient = input;\n                          }}\n                          className=\"form-control form-control-lg\"\n                          placeholder=\"Recipient Address\"\n                          required\n                        />\n                      </div>\n                      <div className=\"form-group\">\n                        <input\n                          id=\"amount\"\n                          type=\"text\"\n                          ref={(input) => {\n                            this.amount = input;\n                          }}\n                          className=\"form-control form-control-lg\"\n                          placeholder=\"Amount\"\n                          required\n                        />\n                      </div>\n                      <button\n                        type=\"submit\"\n                        className=\"btn btn-primary btn-block btn-lg waviii\"\n                      >\n                        <strong>Send</strong>\n                      </button>\n                    </form>\n\n                    <table className=\"table hide\">\n                      <thead>\n                        <tr>\n                          <th scope=\"col\">Recipient</th>\n                          <th scope=\"col\">value</th>\n                        </tr>\n                      </thead>\n                      <tbody>\n                        {this.state.transactions\n                          .sort((a, b) => a.blockNumber < b.blockNumber)\n                          .map((tx, key) => {\n                            return (\n                              <tr key={key}>\n                                <td>\n                                  <a\n                                    className=\"title responsive\"\n                                    href={`https://etherscan.io/address/${tx.hash}`}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                  >\n                                    <span className=\"waviii text-muted\">\n                                      {tx.returnValues.to}\n                                    </span>\n                                  </a>\n                                </td>\n                                {tx.returnValues.to !== this.state.account && (\n                                  <td>\n                                    <span className=\"waviii responsive\">\n                                      -\n                                      <CountUp\n                                        duration={2.7}\n                                        start={0}\n                                        separator=\"\"\n                                        decimals={2}\n                                        decimal=\".\"\n                                        end={window.web3.utils.fromWei(\n                                          tx.returnValues.value.toString(),\n                                          \"Ether\"\n                                        )}\n                                      />\n                                    </span>\n                                  </td>\n                                )}\n                                {tx.returnValues.to === this.state.account && (\n                                  <td>\n                                    <span className=\"waviii2 responsive\">\n                                      +\n                                      <CountUp\n                                        duration={2.7}\n                                        start={0}\n                                        separator=\"\"\n                                        decimals={2}\n                                        decimal=\".\"\n                                        end={window.web3.utils.fromWei(\n                                          tx.returnValues.value.toString(),\n                                          \"Ether\"\n                                        )}\n                                      />\n                                    </span>\n                                  </td>\n                                )}\n                              </tr>\n                            );\n                          })}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              </div>\n            </main>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <>\n        <div className=\"content\">\n          <FadeIn>\n            <Row>\n              <Col md=\"12\">\n                <Card>\n                  <FadeIn>\n                    <CardHeader className=\"responsive2\">\n                      <a\n                        className=\"waviii3 responsive2\"\n                        href={`https://etherscan.io/address/${this.state.account}`}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                      >\n                        <span>{this.state.account}</span>\n                      </a>\n                    </CardHeader>\n                  </FadeIn>\n                  <CardBody className=\"all-icons\">\n                    <FadeIn>\n                      <div>{content}</div>\n                    </FadeIn>\n                  </CardBody>\n                </Card>\n              </Col>\n            </Row>\n          </FadeIn>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Wallet;\n"]},"metadata":{},"sourceType":"module"}